<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Review - Pokemon GO Web Store</title>
    <link rel="icon" href="pokeball.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Alfa+Slab+One&family=Galindo&family=Titan+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="payment.css">
</head>
<body>
    <a href="javascript:history.back()" class="back-link">
        ← Back to Store
    </a>

    <div class="order-container">
        <h2 class="order-title">Order Review</h2>
        
        <div class="username-display">
            <span id="username">Loading...</span>
            <div class="pokecoins-balance">
                <img src="https://store.pokemongolive.com/_next/image?url=https%3A%2F%2Fstorage.googleapis.com%2Fplatform-webstore-rel-assets%2Fpgo%2Fsite_assets%2Fvirtual-currency.png&w=32&q=75" alt="PokeCoin" class="pokecoin-icon">
                <span id="pokecoins">0 PokéCoins</span>
            </div>
        </div>

        <div class="order-details">
            <div class="d-flex align-items-center gap-3">
                <img id="itemImage" src="" alt="Item" class="item-image">
                <div>
                    <h5 id="itemName"></h5>
                    <p id="itemDescription" class="text-muted mb-0"></p>
                </div>
            </div>
            <hr>
            <div class="d-flex justify-content-between align-items-center">
                <span>Total</span>
                <strong id="itemPrice"></strong>
            </div>
        </div>

        <button class="proceed-btn" onclick="window.location.href='checkout.html'">Proceed to Payment</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Get current user
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (!currentUser) {
                window.location.href = 'SignIn.html';
                return;
            }

            // Get selected item from localStorage
            const selectedItem = JSON.parse(localStorage.getItem('selectedItem'));
            if (!selectedItem) {
                window.location.href = 'index.html';
                return;
            }

            // Display user info
            document.getElementById('username').textContent = currentUser.username;
            
            // Display item details
            document.getElementById('itemImage').src = selectedItem.image;
            document.getElementById('itemName').textContent = selectedItem.name;
            document.getElementById('itemDescription').textContent = selectedItem.description;
            document.getElementById('itemPrice').textContent = selectedItem.price;
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>